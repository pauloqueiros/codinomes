<div id="end-screen" class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow">
        <div class="card-body text-center">
          <h1 class="display-4 mb-4" id="winner-display">Team Wins!</h1>
          
          <div class="mt-4">
            <button id="play-again-btn" class="btn btn-success btn-lg me-3" onclick="window.socket.emit('play-again', {room: window.gameState.currentRoom})">
              <i class="fas fa-redo me-2"></i>Play Again
            </button>
            <button id="return-lobby-btn" class="btn btn-outline-secondary btn-lg" onclick="window.socket.emit('return-to-lobby', {room: window.gameState.currentRoom})">
              <i class="fas fa-door-open me-2"></i>Return to Lobby
            </button>
          </div>
          
          <div class="mt-5">
            <button id="return-home-btn" class="btn btn-sm btn-link text-muted">
              <i class="fas fa-home me-1"></i>Back to Home
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Adicionar handlers diretos como solução de emergência
  document.getElementById('play-again-btn')?.addEventListener('click', function() {
    if (window.socket && window.gameState && window.gameState.currentRoom) {
      window.socket.emit('play-again', { room: window.gameState.currentRoom });
    }
  });
  
  document.getElementById('return-lobby-btn')?.addEventListener('click', function() {
    if (window.socket && window.gameState && window.gameState.currentRoom) {
      window.socket.emit('return-to-lobby', { room: window.gameState.currentRoom });
    }
  });
</script>

<style>
  /* Estilos para a tela de vitória */
  .winner-card {
    background: linear-gradient(135deg, #ffffff 0%, #f5f7fa 100%);
    border: none !important;
    overflow: hidden;
    position: relative;
  }
  
  .winner-trophy {
    animation: bounce 2s infinite;
    filter: drop-shadow(0 0 10px gold);
    font-size: 6rem;
  }
  
  .winner-text {
    font-family: 'Comic Sans MS', cursive;
    color: #333;
    text-shadow: 2px 2px 0 #fff, -2px -2px 0 #fff, 2px -2px 0 #fff, -2px 2px 0 #fff;
    letter-spacing: 2px;
    font-size: 2.5rem;
    animation: pulse 1.5s infinite;
  }
  
  /* Animação de quique para o troféu */
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
    40% {transform: translateY(-30px);}
    60% {transform: translateY(-15px);}
  }
  
  /* Animação de pulsar para o texto */
  @keyframes pulse {
    0% {transform: scale(1);}
    50% {transform: scale(1.05);}
    100% {transform: scale(1);}
  }

  .btn-pulse {
    animation: btn-pulse 1s infinite;
  }
  
  @keyframes btn-pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); box-shadow: 0 0 15px rgba(0,123,255,0.7); }
    100% { transform: scale(1); }
  }
  
  .assassin-game-over h2 {
    color: #ff0000;
    text-shadow: 0 0 5px rgba(0,0,0,0.5);
    margin-bottom: 20px;
  }
  
  .assassin-game-over {
    animation: fadeIn 1s;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
</style>
